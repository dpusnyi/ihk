{"version":3,"sources":["../src/app.js"],"names":["app","disable","use","req","res","next","allowedOrigins","origin","headers","indexOf","setHeader","header","skip","get","json","urlencoded","extended","static","join","__dirname","err","Error","status","send","message"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AACA,MAAMA,MAAM,wBAAZ;AACAA,IAAIC,OAAJ,CAAY,cAAZ;;AAEAD,IAAIE,GAAJ,CAAQ,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC/B,MAAIC,iBAAiB,CAAC,GAAD,CAArB;AACA,MAAIC,SAASJ,IAAIK,OAAJ,CAAYD,MAAzB;AACA,MAAGD,eAAeG,OAAf,CAAuBF,MAAvB,IAAiC,CAAC,CAArC,EAAuC;AAClCH,QAAIM,SAAJ,CAAc,6BAAd,EAA6CH,MAA7C;AACJ;AACDH,MAAIO,MAAJ,CAAW,8BAAX,EAA2C,iCAA3C;AACAP,MAAIO,MAAJ,CAAW,8BAAX,EAA2C,6BAA3C;AACAP,MAAIO,MAAJ,CAAW,kCAAX,EAA+C,IAA/C;AACA,SAAON,MAAP;AACD,CAVD;;AAYAL,IAAIE,GAAJ,CAAQ,sBAAO,KAAP,EAAc;AACpBU,QAAM,MAAMZ,IAAIa,GAAJ,CAAQ,KAAR,MAAmB;AADX,CAAd,CAAR;AAGAb,IAAIE,GAAJ,CAAQ,qBAAWY,IAAX,EAAR;AACAd,IAAIE,GAAJ,CAAQ,qBAAWa,UAAX,CAAsB,EAAEC,UAAU,KAAZ,EAAtB,CAAR;AACAhB,IAAIE,GAAJ,CAAQ,kBAAQe,MAAR,CAAe,eAAKC,IAAL,CAAUC,SAAV,EAAqB,WAArB,CAAf,CAAR;;AAEA;AACAnB,IAAIE,GAAJ,CAAQ,SAAR;AACAF,IAAIE,GAAJ,CAAQ,UAAR;;AAEAF,IAAIE,GAAJ,CAAQ,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC1B,QAAMe,MAAM,IAAIC,KAAJ,CAAU,WAAV,CAAZ;AACAD,MAAIE,MAAJ,GAAa,GAAb;AACAjB,OAAKe,GAAL;AACD,CAJD;;AAMA;AACApB,IAAIE,GAAJ,CAAQ,CAACkB,GAAD,EAAMjB,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,KAAyB;AAC/BD,MACGkB,MADH,CACUF,IAAIE,MAAJ,IAAc,GADxB,EAEGC,IAFH,CAEQ;AACJC,aAASJ,IAAII;AADT,GAFR;AAKD,CAND;;kBAWexB,G","file":"app.js","sourcesContent":["import express from 'express';\r\nimport path from 'path';\r\nimport logger from 'morgan';\r\nimport bodyParser from 'body-parser';\r\nimport routes from './routes';\r\nconst app = express();\r\napp.disable('x-powered-by');\r\n\r\napp.use(function(req, res, next) {\r\n  var allowedOrigins = ['*'];\r\n  var origin = req.headers.origin;\r\n  if(allowedOrigins.indexOf(origin) > -1){\r\n       res.setHeader('Access-Control-Allow-Origin', origin);\r\n  }\r\n  res.header('Access-Control-Allow-Methods', 'GET, OPTIONS, PUT, POST, DELETE');\r\n  res.header('Access-Control-Allow-Headers', 'Content-Type, Authorization');\r\n  res.header('Access-Control-Allow-Credentials', true);\r\n  return next();\r\n});\r\n\r\napp.use(logger('dev', {\r\n  skip: () => app.get('env') === 'test'\r\n}));\r\napp.use(bodyParser.json());\r\napp.use(bodyParser.urlencoded({ extended: false }));\r\napp.use(express.static(path.join(__dirname, '../public')));\r\n\r\n// Routes\r\napp.use('/create', routes);\r\napp.use('/retrive', routes);\r\n\r\napp.use((req, res, next) => {\r\n  const err = new Error('Not Found');\r\n  err.status = 404;\r\n  next(err);\r\n});\r\n\r\n// Error handler\r\napp.use((err, req, res, next) => { \r\n  res\r\n    .status(err.status || 500)\r\n    .send({\r\n      message: err.message\r\n    });\r\n});\r\n\r\n\r\n\r\n\r\nexport default app;\r\n"]}